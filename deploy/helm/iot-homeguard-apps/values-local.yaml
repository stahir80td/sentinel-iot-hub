# Local development environment values for apps
# Usage: helm install iot-homeguard-apps ./iot-homeguard-apps -f values-local.yaml

global:
  namePrefix: "iot"
  namespace: "sandbox"
  imagePullPolicy: IfNotPresent

  environment:
    name: "local"
    baseDomain: "homeguard.localhost"

    publicUrls:
      frontend: "http://homeguard.localhost"
      api: "http://homeguard.localhost/api"

  # Infrastructure services (deployed by iot-homeguard infra chart)
  infrastructure:
    postgresql:
      host: "iot-postgresql"
      port: 5432
      database: "homeguard"
      username: "homeguard"
    mongodb:
      host: "iot-mongodb"
      port: 27017
      database: "homeguard"
      username: "root"
    redis:
      host: "iot-redis"
      port: 6379
    kafka:
      host: "iot-kafka"
      port: 9092
    timescaledb:
      host: "iot-timescaledb"
      port: 5432
      database: "homeguard_analytics"
    scylladb:
      host: "iot-scylladb"
      port: 9042

# Local: use local docker images (no registry, iot- prefix)
imageRegistry:
  registry: ""
  prefix: "iot"

# Minimal resources for local development + image tags
apiGateway:
  image: "api-gateway"
  tag: "latest"
  resources:
    requests:
      cpu: 25m
      memory: 32Mi
    limits:
      cpu: 100m
      memory: 64Mi

userService:
  image: "user-service"
  tag: "latest"
  resources:
    requests:
      cpu: 25m
      memory: 32Mi
    limits:
      cpu: 100m
      memory: 64Mi

deviceService:
  image: "device-service"
  tag: "latest"
  resources:
    requests:
      cpu: 25m
      memory: 32Mi
    limits:
      cpu: 100m
      memory: 64Mi

deviceIngest:
  image: "device-ingest"
  tag: "latest"
  resources:
    requests:
      cpu: 25m
      memory: 32Mi
    limits:
      cpu: 100m
      memory: 64Mi

eventProcessor:
  image: "event-processor"
  tag: "latest"
  resources:
    requests:
      cpu: 25m
      memory: 32Mi
    limits:
      cpu: 100m
      memory: 64Mi

notificationService:
  image: "notification-service"
  tag: "latest"
  resources:
    requests:
      cpu: 25m
      memory: 32Mi
    limits:
      cpu: 100m
      memory: 64Mi

scenarioEngine:
  image: "scenario-engine"
  tag: "latest"
  resources:
    requests:
      cpu: 25m
      memory: 32Mi
    limits:
      cpu: 100m
      memory: 64Mi

agenticAi:
  image: "agentic-ai"
  tag: "latest"
  geminiApiKey: ""
  resources:
    requests:
      cpu: 50m
      memory: 64Mi
    limits:
      cpu: 200m
      memory: 128Mi

frontend:
  image: "frontend"
  tag: "latest"
  resources:
    requests:
      cpu: 25m
      memory: 32Mi
    limits:
      cpu: 100m
      memory: 64Mi

secrets:
  jwtSecret: "homeguard-jwt-secret-change-in-production-2024-very-long-key"
  postgresPassword: "homeguard-pg-2024"
  mongoPassword: "homeguard-mongo-2024"
